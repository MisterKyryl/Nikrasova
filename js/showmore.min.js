function showMore(){document.querySelectorAll("[data-fls-showmore]").forEach(a=>{const l=a.querySelector("[data-fls-showmore-body]"),n=a.querySelector("[data-fls-showmore-button]");if(!l||!n)return;const r=Array.from(l.children);if(!r.length)return;let c=0,u=1;const f=w(a.dataset.flsShowmore);function w(o=""){return(o.match(/\[[^\]]+\]|[^,\s]+/g)||[]).map(e=>{if(e.startsWith("[")){const[t,d]=e.replace(/[\[\]\s]/g,"").split(",");return{bp:parseFloat(t),rows:parseInt(d)}}return{default:!0,rows:parseInt(e)}})}function h(){const o=window.innerWidth;let s;const e=f.find(t=>t.default);e&&(s=e.rows);for(const t of f)!t.default&&o<=t.bp&&(s=t.rows);return s===void 0?0:s}function p(){const o=getComputedStyle(l);if(o.gridTemplateColumns&&o.gridTemplateColumns!=="none")return o.gridTemplateColumns.split(" ").filter(Boolean).length||1;const s=r[0];if(!s)return 1;const e=l.clientWidth||l.getBoundingClientRect().width,t=s.getBoundingClientRect().width||s.offsetWidth||1;return Math.max(1,Math.floor(e/t))}function i(o=!0){u=p();const s=h();if(s===0){r.forEach(t=>t.style.display=""),n.style.display="none";return}o&&(c=s);const e=c*u;r.forEach((t,d)=>{t.style.display=d<e?"":"none"}),n.style.display=e>=r.length?"none":""}if(a.hasAttribute("data-fls-showmore-all")){let o=!1;const s=()=>{const e=n.querySelector(".showmore__button-drop"),t=n.querySelector(".showmore__button-rollup");e&&t&&(o?(e.style.display="none",t.style.display="inline"):(e.style.display="inline",t.style.display="none"))};n.addEventListener("click",e=>{e.preventDefault(),o=!o,n.classList.toggle("_showmore-active",o),o?r.forEach(t=>t.style.display=""):i(!0),s()}),window.addEventListener("resize",()=>{o?r.forEach(e=>e.style.display=""):i(!0)}),i(!0),s();return}n.addEventListener("click",()=>{c+=h(),i(!1)}),window.addEventListener("resize",()=>i()),i()})}window.addEventListener("load",showMore);
