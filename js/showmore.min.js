function showMore(){document.querySelectorAll("[data-fls-showmore]").forEach(a=>{const l=a.querySelector("[data-fls-showmore-body]"),r=a.querySelector("[data-fls-showmore-button]");if(!l||!r)return;const i=Array.from(l.children);if(!i.length)return;let c=0,f=1;const u=w(a.dataset.flsShowmore);function w(e=""){return(e.match(/\[[^\]]+\]|[^,\s]+/g)||[]).map(t=>{if(t.startsWith("[")){const[s,d]=t.replace(/[\[\]\s]/g,"").split(",");return{bp:parseFloat(s),rows:parseInt(d)}}return{default:!0,rows:parseInt(t)}})}function h(){const e=window.innerWidth;let o;const t=u.find(s=>s.default);t&&(o=t.rows);for(const s of u)!s.default&&e<=s.bp&&(o=s.rows);return o===void 0?0:o}function m(){const e=getComputedStyle(l);if(e.gridTemplateColumns&&e.gridTemplateColumns!=="none")return e.gridTemplateColumns.split(" ").filter(Boolean).length||1;const o=i[0];if(!o)return 1;const t=l.clientWidth||l.getBoundingClientRect().width,s=o.getBoundingClientRect().width||o.offsetWidth||1;return Math.max(1,Math.floor(t/s))}function n(e=!0){f=m();const o=h();if(o===0){i.forEach(s=>s.style.display=""),r.style.display="none";return}e&&(c=o);const t=c*f;i.forEach((s,d)=>{s.style.display=d<t?"":"none"}),r.style.display=t>=i.length?"none":""}if(a.hasAttribute("data-fls-showmore-all")){let e=!1;const o=n;n=function(t=!0){o(t),r.style.display=""},n(!0),r.addEventListener("click",()=>{e=!e,r.classList.toggle("_showmore-active",e),e?i.forEach(t=>t.style.display=""):n(!0)}),window.addEventListener("resize",()=>{e?i.forEach(t=>t.style.display=""):n(!0)});return}r.addEventListener("click",()=>{c+=h(),n(!1)}),window.addEventListener("resize",()=>n()),n()})}window.addEventListener("load",showMore);
